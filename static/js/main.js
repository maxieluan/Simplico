(function(){const S=document.getElementById("lang"),w=document.getElementById("btn-navbar"),d=document.getElementById("navbar-menu"),m=document.getElementById("toc-collapse"),g=document.getElementById("toc"),r=document.querySelectorAll("#toc a"),u=[],c=document.querySelector("main .home"),a=document.querySelector(".featured");document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector("body");setTimeout(function(){o.classList.remove("loading")},500)}),S.addEventListener("change",o=>{const n=o.target.value;if(document.getElementById("currentLang").innerHTML.trim()==="en"){const t=window.location.pathname.split("/");window.location.href=`/${n}/${t.filter(l=>l!="").slice(0).join("/")}`}else if(n==="en"){const t=window.location.pathname.split("/");window.location.href=`/${t.filter(l=>l!="").slice(1).join("/")}`}});const L=document.getElementsByClassName("progress-container")[0];let f=!1;if(L){const o=window.innerWidth,n=document.getElementsByClassName("progress-bar")[0];n.style.width=`${o}px`,document.addEventListener("scroll",()=>{f||(f=!0,requestAnimationFrame(()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY;L.style.width=`${t/e*100}%`,f=!1}))})}w.addEventListener("click",()=>{d.classList.toggle("menu-hide"),localStorage.setItem("menu-show",!d.classList.contains("menu-hide"))});function B(){localStorage.getItem("menu-show")==="true"&&(d.classList.toggle("menu-hide"),localStorage.setItem("menu-show",!d.classList.contains("menu-hide")))}document.addEventListener("DOMContentLoaded",()=>{B()}),m&&m.addEventListener("click",()=>{const o=document.getElementById("TableOfContents");if(!o)return;o.classList.toggle("small-hidden"),m.querySelectorAll("span").forEach(e=>{e.classList.toggle("hidden")})}),document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelectorAll("pre"),n=document.querySelectorAll(".highlight");o.forEach(e=>{const t=document.createElement("button");t.className="copy-button hidden",t.type="button",t.innerText="Copy",t.addEventListener("click",()=>{navigator.clipboard.writeText(e.innerText),t.innerText="Copied!",setTimeout(()=>{t.innerText="Copy"},1e3)}),e.parentNode.insertBefore(t,e)}),n.forEach(e=>{e.addEventListener("mouseenter",()=>{e.querySelector(".copy-button").classList.remove("hidden")})}),n.forEach(e=>{e.addEventListener("mouseleave",()=>{e.querySelector(".copy-button").classList.add("hidden")})})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("table").forEach(n=>{const e=document.createElement("div");e.className="table-container",n.parentNode.insertBefore(e,n),e.appendChild(n)})}),document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector("main.post");if(!o)return;o.querySelectorAll("h2, h3, h4, h5, h6").forEach(e=>{const t=document.createElement("a");t.className="anchor",t.href=`#${e.id}`,t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h2v6h4V4h2v14H9v-6H5v6H3V4m10 4h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H23v2h-1.9l-.2 2H23v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H13v-2h1.9l.2-2H13V8m4.1 2l-.2 2h2l.2-2h-2Z"/></svg>',e.insertBefore(t,e.firstChild)})});function C(){const o=window.scrollY,e=document.querySelector("main").getBoundingClientRect();o>=e.top&&g.classList.add("float"),o<=48&&g.classList.remove("float")}function b(){var o;for(let n=0;n<r.length;n++){let e=document.getElementById(r[n].attributes.href.value.slice(1)),t=document.getElementById((o=r[n+1])==null?void 0:o.attributes.href.value.slice(1));if(!(!e||!t))if(e.getBoundingClientRect().top<=0){if((t==null?void 0:t.getBoundingClientRect().top)<=0){r[n].classList.remove("active");continue}r[n].classList.add("active")}else r[n].classList.remove("active")}}function E(){const o=c.querySelectorAll("li");function n(e){e.classList.add("fade-in-from-side")}o.length>0&&o.forEach((e,t)=>{setTimeout(()=>{n(e)},100*t)})}function q(){const o=a.querySelectorAll("li");let n=window.innerHeight*.8;function e(t){t.classList.add("fade-in-from-side")}a.getBoundingClientRect().top<=n&&o.forEach(t=>{o.forEach((l,i)=>{setTimeout(()=>{e(l)},100*i)})})}let T=[E,q];function H(o,n){let e=u[o],t=u[n],l=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top;n===0&&(i=document.body.getBoundingClientRect().top);let h=i-l;return t.querySelectorAll("li").forEach(s=>{s.classList.remove("fade-in-from-side")}),new Promise(s=>{window.scrollBy({top:h,behavior:"smooth"}),setTimeout(()=>{s(),T[n]()},500)})}let p=!1;g!==null&&window.addEventListener("scroll",()=>{p||(window.requestAnimationFrame(()=>{C(),b()}),p=!0),p=!1});let v=!1;if(c!==null){let s=function(y){if(d.classList.contains("menu-hide")||w.click(),y.preventDefault(),!v){let I=i;v=!0,i+=1,i>=u.length&&(i=0),Promise.all([H(I,i)]).then(()=>{v=!1})}};var A=s;const o=c.querySelector("ul").getBoundingClientRect().height,n=c.querySelector("h1").getBoundingClientRect().height,e=document.querySelector("nav").getBoundingClientRect().height,t=document.querySelector("footer").getBoundingClientRect().height;c.style.height=`${window.innerHeight-e}px`,a.style.height=`${window.innerHeight-e-t}px`,o+n+e>window.innerHeight&&c.classList.add("smaller-font"),a.querySelector("ul").getBoundingClientRect().height+e+n+t>window.innerHeight&&a.classList.add("smaller-font");let i=0;E(),u.push(c),u.push(a);const h=document.querySelector("main");h.addEventListener("wheel",s),h.addEventListener("scroll",y=>{y.preventDefault()}),h.addEventListener("touchmove",s)}})();
