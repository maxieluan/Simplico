(function(){const w=document.getElementById("lang"),p=document.getElementById("btn-navbar"),c=document.getElementById("navbar-menu"),r=document.getElementById("toc-collapse"),d=document.getElementById("toc"),l=document.querySelectorAll("#toc a"),s=[],u=document.querySelector("main .home"),m=document.querySelector(".featured");document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector("body");this.setTimeout(function(){n.classList.remove("loading")},500)}),w.addEventListener("change",n=>{const o=n.target.value;if(document.getElementById("currentLang").innerHTML.trim()==="en"){const t=window.location.pathname.split("/");window.location.href=`/${o}/${t.filter(i=>i!="").slice(0).join("/")}`}else if(o==="en"){const t=window.location.pathname.split("/");window.location.href=`/${t.filter(i=>i!="").slice(1).join("/")}`}});const y=document.getElementsByClassName("progress-container")[0];let h=!1;if(y){const n=window.innerWidth,o=document.getElementsByClassName("progress-bar")[0];o.style.width=`${n}px`,document.addEventListener("scroll",()=>{h||(h=!0,requestAnimationFrame(()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY;y.style.width=`${t/e*100}%`,h=!1}))})}p.addEventListener("click",()=>{c.classList.toggle("menu-hide"),localStorage.setItem("menu-show",!c.classList.contains("menu-hide"))});function E(){localStorage.getItem("menu-show")==="true"&&(c.classList.toggle("menu-hide"),localStorage.setItem("menu-show",!c.classList.contains("menu-hide")))}document.addEventListener("DOMContentLoaded",()=>{E()}),r&&r.addEventListener("click",()=>{const n=document.getElementById("TableOfContents");if(!n)return;n.classList.toggle("small-hidden"),r.querySelectorAll("span").forEach(e=>{e.classList.toggle("hidden")})}),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll("pre"),o=document.querySelectorAll(".highlight");n.forEach(e=>{const t=document.createElement("button");t.className="copy-button hidden",t.type="button",t.innerText="Copy",t.addEventListener("click",()=>{navigator.clipboard.writeText(e.innerText),t.innerText="Copied!",setTimeout(()=>{t.innerText="Copy"},1e3)}),e.parentNode.insertBefore(t,e)}),o.forEach(e=>{e.addEventListener("mouseenter",()=>{e.querySelector(".copy-button").classList.remove("hidden")})}),o.forEach(e=>{e.addEventListener("mouseleave",()=>{e.querySelector(".copy-button").classList.add("hidden")})})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("table").forEach(o=>{const e=document.createElement("div");e.className="table-container",o.parentNode.insertBefore(e,o),e.appendChild(o)})}),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("main.post");if(!n)return;n.querySelectorAll("h2, h3, h4, h5, h6").forEach(e=>{const t=document.createElement("a");t.className="anchor",t.href=`#${e.id}`,t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h2v6h4V4h2v14H9v-6H5v6H3V4m10 4h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H23v2h-1.9l-.2 2H23v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H13v-2h1.9l.2-2H13V8m4.1 2l-.2 2h2l.2-2h-2Z"/></svg>',e.insertBefore(t,e.firstChild)})});function S(){const n=window.scrollY,e=document.querySelector("main").getBoundingClientRect();n>=e.top&&d.classList.add("float"),n<=48&&d.classList.remove("float")}function b(){var n;for(let o=0;o<l.length;o++){let e=document.getElementById(l[o].attributes.href.value.slice(1)),t=document.getElementById((n=l[o+1])==null?void 0:n.attributes.href.value.slice(1));if(!(!e||!t))if(e.getBoundingClientRect().top<=0){if((t==null?void 0:t.getBoundingClientRect().top)<=0){l[o].classList.remove("active");continue}l[o].classList.add("active")}else l[o].classList.remove("active")}}function L(){const n=u.querySelectorAll("li");function o(e){e.classList.add("fade-in-from-side")}n.length>0&&n.forEach((e,t)=>{setTimeout(()=>{o(e)},100*t)})}function B(){const n=m.querySelectorAll("li");let o=window.innerHeight*.8;function e(t){t.classList.add("fade-in-from-side")}m.getBoundingClientRect().top<=o&&n.forEach(t=>{n.forEach((i,a)=>{setTimeout(()=>{e(i)},100*a)})})}let C=[L,B];function q(n,o){let e=s[n],t=s[o],i=e.getBoundingClientRect().top,a=t.getBoundingClientRect().top;o===0&&(a=document.body.getBoundingClientRect().top);let T=a-i;return t.querySelectorAll("li").forEach(v=>{v.classList.remove("fade-in-from-side")}),new Promise(v=>{window.scrollBy({top:T,behavior:"smooth"}),setTimeout(()=>{v(),C[o]()},500)})}let f=!1;d!==null&&window.addEventListener("scroll",()=>{f||(window.requestAnimationFrame(()=>{S(),b()}),f=!0),f=!1});let g=!1;if(u!==null){let e=function(t){if(c.classList.contains("menu-hide")||p.click(),t.preventDefault(),!g){let i=n;g=!0,n+=1,n>=s.length&&(n=0),Promise.all([q(i,n)]).then(()=>{g=!1})}};var H=e;let n=0;L(),s.push(u),s.push(m);const o=document.querySelector("main");o.addEventListener("wheel",e),o.addEventListener("scroll",t=>{t.preventDefault()}),o.addEventListener("touchmove",e)}})();
